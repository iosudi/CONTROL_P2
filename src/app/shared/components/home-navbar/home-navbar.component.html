<app-cart-overlay *ngIf="cartOverlayOpened"></app-cart-overlay>

<nav>
  <div
    class="navbar container d-flex align-items-center gap-2"
    [dir]="'dir' | translate"
  >
    <div class="logo pointer" routerLink="/">
      <img src="./assets/images/logo.png" alt="logo" />
    </div>

    <ul class="nav-items p-0 m-0 d-flex align-items-center gap-3">
      <li>
        <a routerLink="/home" routerLinkActive="active-link">{{
          "Navbar.home" | translate
        }}</a>
      </li>
      <li>
        <a routerLink="/about-us" routerLinkActive="active-link">{{
          "Navbar.about" | translate
        }}</a>
      </li>
      <li>
        <a routerLink="/portfolio" routerLinkActive="active-link">{{
          "Navbar.portfolio" | translate
        }}</a>
      </li>
      <li>
        <a routerLink="/services" routerLinkActive="active-link">{{
          "Navbar.services" | translate
        }}</a>
      </li>
      <li>
        <a routerLink="/shop" routerLinkActive="active-link">{{
          "Navbar.shop" | translate
        }}</a>
      </li>
      <li>
        <a routerLink="/partners" routerLinkActive="active-link">{{
          "Navbar.partners" | translate
        }}</a>
      </li>
      <li>
        <a routerLink="/contact-us" routerLinkActive="active-link">{{
          "Navbar.contactUs" | translate
        }}</a>
      </li>
    </ul>

    <div class="nav-controls d-flex align-items-center">
      <div
        class="d-flex align-items-center gap-lg-3 gap-2"
        [class.border-end]="direction === 'ltr'"
        [ngClass]="{
          'pe-3': direction == 'ltr',
          'ps-3': direction == 'rtl'
        }"
      >
        <!-- <button class="btn p-0 d-flex align-items-center gap-3">
          <img src="./assets/images/icons/search.svg" alt="icon" />
        </button> -->
        <button
          class="btn p-0 d-flex align-items-center gap-3 language-btn"
          (click)="changeLanguage()"
        >
          <img src="./assets/images/icons/global.svg" alt="icon" />
          <span *ngIf="currentLanguage === 'ar'">English</span>
          <span *ngIf="currentLanguage === 'en'">العربية</span>
        </button>
      </div>

      <div
        class="d-flex align-items-center gap-lg-3 gap-2"
        [class.border-end]="direction === 'rtl'"
        [ngClass]="{
          'ps-3': direction == 'ltr',
          'pe-3': direction == 'rtl'
        }"
      >
        <div class="position-relative dropdown-btn">
          <button
            class="btn p-0 d-flex align-items-center"
            (click)="toggleMenu()"
          >
            <img src="./assets/images/icons/user.svg" alt="icon" />
          </button>
          <div
            class="dropdown_menu rounded-3"
            *ngIf="!userLoggedIn; else userLogged"
            [ngClass]="{ 'd-block': !collapsed, 'd-none': collapsed }"
          >
            <ul class="mb-0 p-3">
              <li class="mb-2 pointer" (click)="openLoginDialog()">Login</li>
              <li class="pointer" (click)="openRegisterDialog()">Register</li>
            </ul>
          </div>

          <ng-template #userLogged>
            <div
              class="dropdown_menu rounded-3"
              [ngClass]="{ 'd-block': !collapsed, 'd-none': collapsed }"
            >
              <ul class="mb-0 p-3">
                <li class="mb-2 pointer" routerLink="/profile">Dashboard</li>
                <li class="pointer mb-2" routerLink="/profile/account-details">
                  Account details
                </li>
                <li class="pointer mb-2" routerLink="/profile/orders">
                  Orders
                </li>
                <li class="pointer mb-2" routerLink="/profile/addresses">
                  Addresses
                </li>
                <li class="pointer" routerLink="/profile/wishlist">Wishlist</li>

                <li
                  class="pointer text-danger pt-1 mt-2 fw-semibold border-top"
                  (click)="logout()"
                >
                  <i class="fa-solid fa-arrow-right-from-bracket"></i>
                  Logout
                </li>
              </ul>
            </div>
          </ng-template>
        </div>
        <button
          class="btn p-0 d-flex align-items-center gap-1"
          routerLink="/profile/wishlist"
        >
          <img src="./assets/images/icons/heart.svg" alt="icon" />
        </button>
        <button
          class="btn p-0 d-flex align-items-center gap-lg-2 gap-1"
          (click)="openCartOverlay()"
        >
          <img src="./assets/images/icons/cart.svg" alt="icon" />
        </button>
      </div>
    </div>
  </div>
</nav>

<app-mobile-navbar></app-mobile-navbar>
